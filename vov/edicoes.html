
<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JOR NEWS V O V ‚Äî Edi√ß√µes Publicadas</title>
<meta name="theme-color" content="#0b0b0f"/>
<style>
  :root{--bg:#0b0b0f;--panel:#121218;--txt:#f4f6f8;--muted:#9aa0ab;--brand:#ffd54a}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--txt);font:400 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto}
  .wrap{max-width:900px;margin:auto;padding:20px}
  h1{margin:10px 0 6px;font-size:clamp(26px,4.5vw,40px)}
  .muted{color:var(--muted)}
  .card{background:var(--panel);border:1px solid #1f1f29;border-radius:16px;padding:18px;margin:14px 0}
  a{color:var(--brand);text-decoration:none}
  a:hover{text-decoration:underline}
  ul{margin:0;padding-left:18px}
  .row{display:flex;flex-wrap:wrap;gap:10px}
  /* mini-player r√°pido */
  .track{display:flex;justify-content:space-between;gap:10px;align-items:center;padding:10px;border-radius:12px;background:#0f0f15;border:1px solid #232334;margin-top:6px}
  .btn{padding:8px 12px;border:1px solid #2a2a35;border-radius:10px;background:#1a1a22;color:var(--txt)}
</style>
</head>
<body>
<div class="wrap">
  <h1>JOR NEWS V O V ‚Äî Edi√ß√µes Publicadas</h1>
  <p class="muted">Arquivo vivo das edi√ß√µes. O PDF de cada dia est√° no Acervo (Google Drive).</p>

  <div class="card">
    <h2 style="margin-top:0">Acesso r√°pido</h2>
    <div class="row">
      <!-- TODO: atualize este link curto diariamente -->
      <a class="btn" href="https://clique.ink/tk15qz" target="_blank" rel="noopener">üìñ Edi√ß√£o de 29/09/2025 (PDF)</a>
      <a class="btn" href="https://drive.google.com/drive/folders/1tXkZISpnnFyWa9EhkmN40bdXTz9YHfjE" target="_blank" rel="noopener">üìö Acervo completo (Drive)</a>
    </div>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">√öltimas notas</h3>
    <ul>
      <li>üóìÔ∏è 29/09/2025 ‚Äî edi√ß√£o publicada (link curto acima).</li>
      <li>üóÇÔ∏è Edi√ß√µes anteriores: acesse o <strong>Acervo completo</strong> e abra pelo nome do arquivo <code>AAAA-MM-DD.pdf</code>.</li>
    </ul>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">BLACKVOX ‚Äî Mini-player</h3>
    <div id="mpList">
      <div class="track"><strong>Carregando playlist‚Ä¶</strong><span class="muted">aguarde</span></div>
    </div>
    <audio id="mp" preload="none"></audio>
    <p class="muted" style="margin-top:10px">Player carrega de <code>/vov/blackvox/playlist.json</code>. Para abrir a p√°gina completa do BLACKVOX, <a href="./blackvox/index.html">clique aqui</a>.</p>
  </div>

  <p class="muted">¬© V O V ‚Äî Ver ‚Ä¢ Ouvir ‚Ä¢ Vender ‚Ä¢ Viver</p>
</div>

<script>
(async function(){
  const list = document.getElementById('mpList');
  const audio = document.getElementById('mp');
  let tracks=[], current=-1;

  function render(){
    list.innerHTML='';
    tracks.forEach((t,i)=>{
      const row=document.createElement('div');
      row.className='track';
      row.innerHTML=`<strong>${t.title}</strong> <button class="btn" data-i="${i}">‚ñ∂Ô∏è Tocar</button>`;
      list.appendChild(row);
    });
  }
  function play(i){
    current=i; audio.src=tracks[i].file; audio.play();
    [...list.children].forEach((el,idx)=>el.style.outline = idx===i ? '2px solid #77e6a3' : 'none');
  }
  audio.addEventListener('ended',()=>{ if(current+1<tracks.length) play(current+1); });

  try{
    const res=await fetch('./vov/blackvox/playlist.json',{cache:'no-store'});
    tracks=await res.json(); render();
    list.addEventListener('click',e=>{const b=e.target.closest('button[data-i]'); if(b) play(+b.dataset.i);});
  }catch(e){
    list.innerHTML='<div class="track"><strong>N√£o foi poss√≠vel carregar a playlist.</strong></div>';
  }
})();
</script>
</body>
</html>
