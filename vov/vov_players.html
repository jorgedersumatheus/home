
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VOV ‚Ä¢ Players BLACKVOX</title>
<meta name="description" content="Players de √°udio BLACKVOX: Cl√°ssico, Campe√£o e Mini ‚Äî V O V ‚Ä¢ Ver, Ouvir, Vender, Viver." />
<link rel="icon" href="/vov/favicon.ico">
<style>
  :root{
    --bg:#0b0e12; --panel:#12161d; --muted:#99a3b3; --text:#e9eef7; --brand:#00d4ff; --brand2:#7c5cff; --accent:#17ff88; --danger:#ff3b3b;
    --card:#0f1319; --stroke:#1e2430;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--text); background:
      radial-gradient(1200px 600px at 10% -10%, rgba(124,92,255,.08), transparent 60%),
      radial-gradient(1000px 500px at 110% 10%, rgba(0,212,255,.08), transparent 60%),
      var(--bg);
    font: 15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  }
  a{color:var(--brand); text-decoration:none}
  a:hover{text-decoration:underline}

  /* header */
  .topbar{
    position:sticky; top:0; z-index:50;
    backdrop-filter:saturate(140%) blur(8px);
    background:linear-gradient(180deg, rgba(11,14,18,.85), rgba(11,14,18,.6));
    border-bottom:1px solid var(--stroke);
  }
  .topwrap{max-width:1100px; margin:0 auto; padding:14px 16px; display:flex; gap:14px; align-items:center; justify-content:space-between}
  .brand{display:flex; align-items:center; gap:12px}
  .pill{
    background:linear-gradient(135deg, var(--brand), var(--brand2));
    color:#001018; font-weight:900; letter-spacing:.5px;
    padding:6px 10px; border-radius:10px; font-size:12px;
  }
  .title h1{margin:0; font-weight:800; font-size:16px}
  .title small{display:block; color:var(--muted); font-size:12px; margin-top:2px}

  .navlinks{display:flex; gap:8px; flex-wrap:wrap}
  .btn{
    display:inline-flex; align-items:center; gap:8px;
    border:1px solid var(--stroke); border-radius:10px; padding:8px 12px;
    background:linear-gradient(180deg, #0f1319, #0b0e12); color:var(--text);
    transition:.2s transform, .2s border-color;
  }
  .btn:hover{transform:translateY(-1px); border-color:#2a3345; text-decoration:none}
  .btn.brand{border-color:transparent; background:linear-gradient(135deg, #00d4ff33, #7c5cff33)}
  .btn.ghost{background:transparent}
  .btn .dot{width:8px; height:8px; border-radius:50%}
  .dot.c1{background:var(--brand)}
  .dot.c2{background:var(--accent)}
  .dot.c3{background:#ffd166}

  /* layout */
  .wrap{max-width:1100px; margin:22px auto 64px; padding:0 16px}
  .grid{display:grid; grid-template-columns: 1.35fr .65fr; gap:22px}
  @media (max-width:980px){ .grid{grid-template-columns:1fr} }

  /* card */
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
    border:1px solid var(--stroke); border-radius:16px; overflow:hidden;
    box-shadow:0 10px 30px rgba(0,0,0,.25);
  }
  .card > .head{
    padding:16px; border-bottom:1px solid var(--stroke); display:flex; align-items:center; justify-content:space-between
  }
  .card > .head h2{margin:0; font-size:16px; font-weight:800; letter-spacing:.3px}
  .badge{font-size:11px; color:#0b0e12; background:linear-gradient(135deg, var(--brand), var(--accent)); padding:6px 8px; border-radius:999px; font-weight:800}

  /* player */
  .player{padding:16px}
  .row{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px}
  .row input[type="url"], .row input[type="text"]{
    flex:1 1 260px; min-width:220px; padding:10px 12px; border-radius:10px; border:1px solid var(--stroke);
    background:#0b0f14; color:var(--text); outline:none;
  }
  .row input::placeholder{color:#647089}
  .row .btn-sm{
    padding:8px 10px; border-radius:10px; border:1px solid var(--stroke);
    background:#0d1117; color:var(--text); font-size:13px;
  }
  .row .btn-sm.brand{border-color:transparent; background:linear-gradient(135deg, #00d4ff33, #7c5cff33)}
  .hint{color:var(--muted); font-size:12px; margin-top:-6px; margin-bottom:12px}

  .controls{
    display:flex; gap:8px; flex-wrap:wrap; margin:12px 0 6px;
  }
  .controls .btn-ctrl{
    border:1px solid var(--stroke); background:#0e131a; color:var(--text);
    border-radius:10px; padding:8px 12px; font-size:13px;
  }
  .controls .btn-ctrl.active{border-color:var(--brand); box-shadow:0 0 0 2px rgba(0,212,255,.2) inset}

  .now{margin:8px 0 12px; font-size:13px; color:var(--muted)}
  .now b{color:var(--text)}

  .progress{
    height:8px; background:#121720; border:1px solid var(--stroke); border-radius:999px; overflow:hidden; margin:8px 0 14px;
  }
  .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--brand), var(--accent)); transition:width .2s}

  ul.play{list-style:none; margin:0; padding:0}
  ul.play li{
    display:grid; grid-template-columns: 1fr auto; gap:8px; align-items:center;
    padding:10px 12px; border:1px solid var(--stroke); border-radius:12px; margin-bottom:8px; background:#0b0f14;
  }
  ul.play li.active{outline:2px solid rgba(0,212,255,.25)}
  .track-title{white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
  .rowbtns{display:flex; gap:6px}
  .rowbtns button{
    border:1px solid var(--stroke); background:#0f1319; color:var(--text); padding:6px 8px; border-radius:8px; font-size:12px;
  }
  .rowbtns button.rm{border-color:#2e1b1b; background:#170f10; color:#ff9b9b}

  /* aside links */
  .side{display:grid; gap:16px; align-content:start}
  .side .panel{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)); border:1px solid var(--stroke); border-radius:16px; padding:16px}
  .panel h3{margin:0 0 8px; font-size:14px; letter-spacing:.2px}
  .panel p{margin:0 0 10px; color:var(--muted); font-size:13px}
  .list a{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 12px; border:1px solid var(--stroke); border-radius:12px; background:#0b0f14; text-decoration:none}
  .list a:hover{border-color:#2a3345}
  .tag{font-size:11px; color:#001018; background:linear-gradient(135deg, var(--brand), var(--brand2)); padding:5px 8px; border-radius:999px; font-weight:800}

  /* footer */
  footer{margin:40px 0 80px; color:var(--muted); font-size:12px; text-align:center}
  footer a{color:var(--muted)}
</style>
</head>
<body>

<header class="topbar">
  <div class="topwrap">
    <div class="brand">
      <div class="pill">V O V</div>
      <div class="title">
        <h1>Players BLACKVOX</h1>
        <small>Cl√°ssico (nesta p√°gina) ‚Ä¢ <b>Campe√£o</b> e <b>Mini</b> por link</small>
      </div>
    </div>
    <nav class="navlinks">
      <a class="btn" href="/vov/index.html"><span class="dot c1"></span> In√≠cio</a>
      <a class="btn" href="/vov/edicoes.html"><span class="dot c2"></span> Arquivo de Edi√ß√µes</a>
      <a class="btn brand" href="/vov/vov_campeao.html">üéõÔ∏è Campe√£o</a>
      <a class="btn ghost" href="/vov/vov_mini.html">‚ñ∏ Mini</a>
    </nav>
  </div>
</header>

<div class="wrap">
  <div class="grid">
    <!-- PLAYER CL√ÅSSICO -->
    <section class="card">
      <div class="head">
        <h2>BLACKVOX ‚Ä¢ Player Cl√°ssico</h2>
        <span class="badge">AO VIVO</span>
      </div>

      <div class="player">
        <!-- loader de playlist por URL JSON -->
        <div class="row">
          <input id="jsonUrl" type="url" placeholder="URL de playlist JSON p√∫blica (ex.: https://.../playlist.json)" />
          <button class="btn-sm brand" id="btnLoad">Carregar</button>
          <button class="btn-sm" id="btnClear">Limpar lista</button>
        </div>
        <div class="hint">Formato do JSON esperado: 
          <code>[{"name":"Faixa ...","url":"https://.../arquivo.mp3"}, ...]</code>
        </div>

        <!-- adicionar faixa manualmente -->
        <div class="row">
          <input id="trackName" type="text" placeholder="Nome da faixa" />
          <input id="trackUrl" type="url" placeholder="URL da faixa (mp3/ogg)" />
          <button class="btn-sm" id="btnAdd">Adicionar</button>
        </div>

        <!-- controles -->
        <div class="controls">
          <button class="btn-ctrl" id="btnPrev">‚óÇ Anterior</button>
          <button class="btn-ctrl" id="btnPlayPause">‚ñ∂Ô∏é Reproduzir</button>
          <button class="btn-ctrl" id="btnNext">Pr√≥xima ‚ñ∏</button>
          <button class="btn-ctrl" id="btnShuffle">Shuffle</button>
          <button class="btn-ctrl" id="btnLoop">Loop</button>
        </div>

        <div class="now">Tocando agora: <b id="nowTitle">‚Äî</b></div>
        <div class="progress"><div class="bar" id="bar"></div></div>

        <ul class="play" id="playList"></ul>

        <!-- audio oculto -->
        <audio id="player" preload="metadata" crossorigin="anonymous"></audio>
      </div>
    </section>

    <!-- LINKS LATERAIS -->
    <aside class="side">
      <div class="panel">
        <h3>Outros players</h3>
        <div class="list">
          <a href="/vov/vov_campeao.html">Campe√£o <span class="tag">Pro</span></a>
        </div>
        <div class="list" style="margin-top:8px">
          <a href="/vov/vov_mini.html">Mini <span class="tag">Leve</span></a>
        </div>
      </div>

      <div class="panel">
        <h3>Dica VOV</h3>
        <p>Hospede seus MP3/OGG em links p√∫blicos est√°veis (Drive com link direto, CDN, ou seu servidor). No celular, prefira Wi-Fi para streams longos.</p>
      </div>

      <div class="panel">
        <h3>Atalhos r√°pidos</h3>
        <div class="list"><a href="/vov/edicoes.html">Arquivo do JOR NEWS VOV <span class="tag">PDF</span></a></div>
        <div class="list" style="margin-top:8px"><a href="/vov/contato.html">Fale com a VOV <span class="tag">Contato</span></a></div>
      </div>
    </aside>
  </div>
</div>

<footer>
  V O V ‚Äî Ver, Ouvir, Vender, Viver ‚Ä¢ Salvador ‚Ä¢ Amaralina ‚Ä¢ Brasil<br/>
  Coautoria: Jorge LA Matheus & Ax√©Bit ‚Ä¢ <a href="/vov/index.html">In√≠cio</a>
</footer>

<script>
(function(){
  const player = document.getElementById('player');
  const listEl = document.getElementById('playList');
  const nowEl  = document.getElementById('nowTitle');
  const barEl  = document.getElementById('bar');

  const btnLoad = document.getElementById('btnLoad');
  const btnClear= document.getElementById('btnClear');
  const btnAdd  = document.getElementById('btnAdd');
  const btnPrev = document.getElementById('btnPrev');
  const btnNext = document.getElementById('btnNext');
  const btnPlay = document.getElementById('btnPlayPause');
  const btnLoop = document.getElementById('btnLoop');
  const btnShuf = document.getElementById('btnShuffle');

  const urlInput   = document.getElementById('jsonUrl');
  const trackNameI = document.getElementById('trackName');
  const trackUrlI  = document.getElementById('trackUrl');

  let tracks = [];     // [{name,url}]
  let index  = -1;
  let loopOn = false;
  let shuffleOn = false;

  function render(){
    listEl.innerHTML = '';
    tracks.forEach((t, i)=>{
      const li = document.createElement('li');
      if(i===index) li.classList.add('active');
      const title = document.createElement('div');
      title.className='track-title';
      title.textContent = t.name || t.url;

      const btns = document.createElement('div');
      btns.className='rowbtns';

      const bPlay = document.createElement('button');
      bPlay.textContent = '‚ñ∂Ô∏é';
      bPlay.title='Tocar';
      bPlay.onclick = ()=> playAt(i);

      const bUp = document.createElement('button');
      bUp.textContent = '‚Üë';
      bUp.title='Subir';
      bUp.onclick = ()=> move(i, -1);

      const bDown = document.createElement('button');
      bDown.textContent = '‚Üì';
      bDown.title='Descer';
      bDown.onclick = ()=> move(i, +1);

      const bRm = document.createElement('button');
      bRm.textContent = '√ó';
      bRm.title='Remover';
      bRm.className='rm';
      bRm.onclick = ()=> removeAt(i);

      btns.append(bPlay, bUp, bDown, bRm);
      li.append(title, btns);
      listEl.append(li);
    });
    nowEl.textContent = (tracks[index]?.name) || '‚Äî';
  }

  function playAt(i){
    if(!tracks[i]) return;
    index = i;
    player.src = tracks[i].url;
    player.play().catch(()=>{ /* ignore autoplay block */ });
    render();
  }

  function next(){
    if(shuffleOn && tracks.length>1){
      let j = index;
      while(j===index) j = Math.floor(Math.random()*tracks.length);
      return playAt(j);
    }
    const j = (index + 1) % tracks.length;
    playAt(j);
  }

  function prev(){
    const j = (index - 1 + tracks.length) % tracks.length;
    playAt(j);
  }

  function move(i, dir){
    const j = i + dir;
    if(j<0 || j>=tracks.length) return;
    const tmp = tracks[i]; tracks[i]=tracks[j]; tracks[j]=tmp;
    if(index===i) index=j; else if(index===j) index=i;
    render();
  }

  function removeAt(i){
    tracks.splice(i,1);
    if(index>=tracks.length) index = tracks.length-1;
    render();
  }

  function addTrack(name, url){
    if(!url) return;
    tracks.push({name:name || url, url});
    if(index===-1) index=0;
    render();
  }

  // progress
  player.addEventListener('timeupdate', ()=>{
    if(!player.duration || isNaN(player.duration)) return;
    const pct = (player.currentTime / player.duration) * 100;
    barEl.style.width = (pct||0) + '%';
  });

  player.addEventListener('ended', ()=>{
    if(loopOn){
      player.currentTime = 0;
      player.play();
    }else if(tracks.length){
      next();
    }
  });

  // controls
  btnPrev.onclick = prev;
  btnNext.onclick = next;
  btnPlay.onclick = ()=>{
    if(player.paused){ player.play(); btnPlay.textContent='‚è∏ Pausar'; }
    else { player.pause(); btnPlay.textContent='‚ñ∂Ô∏é Reproduzir'; }
  };
  btnLoop.onclick = ()=>{
    loopOn = !loopOn;
    btnLoop.classList.toggle('active', loopOn);
  };
  btnShuf.onclick = ()=>{
    shuffleOn = !shuffleOn;
    btnShuf.classList.toggle('active', shuffleOn);
  };

  // add manual
  btnAdd.onclick = ()=>{
    const n = trackNameI.value.trim();
    const u = trackUrlI.value.trim();
    if(!u){ alert('Informe a URL da faixa (mp3/ogg).'); return; }
    addTrack(n, u);
    trackNameI.value=''; trackUrlI.value='';
  };

  // load JSON
  btnLoad.onclick = async ()=>{
    const u = urlInput.value.trim();
    if(!u){ alert('Informe a URL do JSON p√∫blico.'); return; }
    try{
      const res = await fetch(u, {cache:'no-store'});
      if(!res.ok) throw new Error('HTTP '+res.status);
      const data = await res.json();
      if(!Array.isArray(data)) throw new Error('JSON inv√°lido (n√£o √© array).');
      // valida itens
      const ok = data.every(it=>it && typeof it.url==='string');
      if(!ok) throw new Error('JSON inv√°lido (itens sem url).');
      tracks = data.map(it=>({name: it.name || it.title || it.url, url: it.url}));
      index = tracks.length ? 0 : -1;
      render();
    }catch(err){
      alert('Falha ao carregar JSON: '+err.message);
    }
  };

  btnClear.onclick = ()=>{
    tracks = [];
    index = -1;
    render();
  };

  // estado inicial (vazio)
  render();
})();
</script>
</body>
</html>
